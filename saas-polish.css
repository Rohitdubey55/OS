/* ============================================
   SAAS POLISH â€” Premium Animations & Skeletons
   ============================================ */

/* ---------- SKELETON LOADING ---------- */
.skeleton-container {
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.skeleton-card {
    background: var(--surface-1);
    border-radius: var(--radius-lg, 16px);
    padding: 20px;
    border: 1px solid var(--border, #e5e7eb);
    overflow: hidden;
}

.skeleton-line {
    height: 14px;
    border-radius: 6px;
    background: linear-gradient(90deg,
            #f0f0f0 25%,
            #e0e0e0 37%,
            #f0f0f0 63%);
    background-size: 400% 100%;
    animation: shimmer 1.4s ease infinite;
}

.skeleton-line.title {
    width: 60%;
    height: 20px;
    margin-bottom: 12px;
}

.skeleton-line.subtitle {
    width: 40%;
    height: 12px;
    margin-bottom: 16px;
}

.skeleton-line.body {
    width: 100%;
    margin-bottom: 8px;
}

.skeleton-line.body.short {
    width: 70%;
}

.skeleton-circle {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: linear-gradient(90deg,
            #f0f0f0 25%,
            #e0e0e0 37%,
            #f0f0f0 63%);
    background-size: 400% 100%;
    animation: shimmer 1.4s ease infinite;
    flex-shrink: 0;
}

.skeleton-row {
    display: flex;
    align-items: center;
    gap: 14px;
    margin-bottom: 16px;
}

.skeleton-row:last-child {
    margin-bottom: 0;
}

.skeleton-row .skeleton-line {
    flex: 1;
}

@keyframes shimmer {
    0% {
        background-position: 100% 50%;
    }

    100% {
        background-position: 0% 50%;
    }
}

/* ---------- PAGE TRANSITIONS ---------- */
#main {
    animation: fadeSlideUp 0.3s ease-out;
}

@keyframes fadeSlideUp {
    from {
        opacity: 0;
        transform: translateY(12px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ---------- CARD ENTER ANIMATION ---------- */
.widget-card,
.card,
.habit-card,
.task-row,
.vision-card,
.finance-card {
    animation: cardEnter 0.35s ease-out both;
}

@keyframes cardEnter {
    from {
        opacity: 0;
        transform: translateY(8px) scale(0.98);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

/* Stagger cards */
.widget-card:nth-child(1),
.habit-card:nth-child(1),
.task-row:nth-child(1) {
    animation-delay: 0s;
}

.widget-card:nth-child(2),
.habit-card:nth-child(2),
.task-row:nth-child(2) {
    animation-delay: 0.05s;
}

.widget-card:nth-child(3),
.habit-card:nth-child(3),
.task-row:nth-child(3) {
    animation-delay: 0.1s;
}

.widget-card:nth-child(4),
.habit-card:nth-child(4),
.task-row:nth-child(4) {
    animation-delay: 0.15s;
}

.widget-card:nth-child(5),
.habit-card:nth-child(5),
.task-row:nth-child(5) {
    animation-delay: 0.2s;
}

/* ---------- BUTTON LOADING STATE ---------- */
.btn.loading {
    pointer-events: none;
    position: relative;
    color: transparent !important;
}

.btn.loading::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top-color: white;
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
    top: 50%;
    left: 50%;
    margin-top: -8px;
    margin-left: -8px;
}

/* ---------- MODAL ENTER ---------- */
.modal-overlay:not(.hidden) .modal-box {
    animation: modalSlideUp 0.3s cubic-bezier(0.22, 1, 0.36, 1);
}

@keyframes modalSlideUp {
    from {
        opacity: 0;
        transform: translateY(20px) scale(0.96);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.modal-overlay:not(.hidden) {
    animation: backdropFade 0.25s ease-out;
}

@keyframes backdropFade {
    from {
        background-color: rgba(0, 0, 0, 0);
    }

    to {
        background-color: rgba(0, 0, 0, 0.5);
    }
}

/* ---------- TOAST ANIMATION ---------- */
#toast.show {
    animation: toastIn 0.3s ease-out forwards, toastOut 0.3s ease-in 2.2s forwards;
}

@keyframes toastIn {
    from {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

@keyframes toastOut {
    from {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }

    to {
        opacity: 0;
        transform: translateX(-50%) translateY(20px);
    }
}

/* ---------- FAB MENU ICON COLORS ---------- */
.fab-menu-button {
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
}

.fab-menu-button.plan {
    color: white;
}

.fab-menu-button.task {
    color: white;
}

.fab-menu-button.money {
    color: white;
}

.fab-menu-button.habit {
    color: white;
}

.fab-menu-button.vision {
    color: white;
}

/* ---------- MICRO-INTERACTIONS ---------- */
.habit-check {
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.2s;
}

.habit-check:active {
    transform: scale(0.85);
}

.habit-check.done {
    animation: checkPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes checkPop {
    0% {
        transform: scale(0.5);
    }

    60% {
        transform: scale(1.15);
    }

    100% {
        transform: scale(1);
    }
}

/* ---------- NUMBER COUNTER ANIMATION ---------- */
.kpi-number {
    display: inline-block;
    animation: numberPop 0.5s ease-out;
}

@keyframes numberPop {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(6px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

/* ---------- PROGRESS BAR ANIMATION ---------- */
.vision-progress-fill {
    transition: width 0.8s cubic-bezier(0.22, 1, 0.36, 1);
}

/* ---------- NAV ACTIVE INDICATOR ---------- */
.mob-item.active {
    position: relative;
}

.mob-item.active::after {
    content: '';
    position: absolute;
    top: -2px;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 3px;
    background: var(--primary, #6366F1);
    border-radius: 0 0 3px 3px;
    animation: navDotIn 0.3s ease-out;
}

@keyframes navDotIn {
    from {
        width: 0;
        opacity: 0;
    }

    to {
        width: 20px;
        opacity: 1;
    }
}

/* ---------- EMPTY STATE POLISH ---------- */
.empty-state-icon {
    animation: emptyBounce 2s ease-in-out infinite;
}

@keyframes emptyBounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-6px);
    }
}

/* ---------- BADGE PULSE ---------- */
.badge.P1::before {
    content: '';
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
    margin-right: 4px;
    animation: badgePulse 1.5s ease-in-out infinite;
}

@keyframes badgePulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.4;
    }
}